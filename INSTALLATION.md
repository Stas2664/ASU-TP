# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ë–î –ê–°–£ –¢–ü

## üì¶ –í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Docker (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop
1. –°–∫–∞—á–∞–π—Ç–µ Docker Desktop –¥–ª—è Windows:
   https://www.docker.com/products/docker-desktop/
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env
```bash
copy env.example .env
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
docker-compose up -d
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- ‚úÖ PostgreSQL 15 –Ω–∞ –ø–æ—Ä—Ç—É 5432
- ‚úÖ pgAdmin (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) –Ω–∞ http://localhost:5050
- ‚úÖ Grafana (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥) –Ω–∞ http://localhost:3000

### –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
```bash
docker-compose --profile init up db_init
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
docker-compose ps
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

### –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–û–†–û–ñ–ù–û!)
```bash
docker-compose down -v
```

---

## üíª –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL 15
1. –°–∫–∞—á–∞–π—Ç–µ PostgreSQL 15 –¥–ª—è Windows:
   https://www.postgresql.org/download/windows/
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
3. –ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤–∫–ª—é—á–∞—è pgAdmin 4)

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ PostgreSQL –≤ PATH
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–°–∏—Å—Ç–µ–º–∞" ‚Üí "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã"
2. –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã"
3. –í "Path" –¥–æ–±–∞–≤—å—Ç–µ: `C:\Program Files\PostgreSQL\15\bin`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```bash
cd "C:\Users\Admin\Desktop\–∞—Å—É —Ç–ø"
scripts\init_database.bat
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
cd "C:\Users\Admin\Desktop\–∞—Å—É —Ç–ø\sql"

psql -U postgres -f 01_create_database.sql
psql -U postgres -d asu_tp_db -f 02_create_schemas.sql
psql -U postgres -d asu_tp_db -f 03_create_tables.sql
psql -U postgres -d asu_tp_db -f 04_create_indexes.sql
psql -U postgres -d asu_tp_db -f 05_create_roles.sql
psql -U postgres -d asu_tp_db -f 06_create_functions.sql
psql -U postgres -d asu_tp_db -f 07_create_triggers.sql
psql -U postgres -d asu_tp_db -f 08_initial_data.sql
```

---

## üîê –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### PostgreSQL
- –•–æ—Å—Ç: localhost
- –ü–æ—Ä—Ç: 5432
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: postgres
- –ü–∞—Ä–æ–ª—å: postgres (–∏–ª–∏ SecurePassword123! –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ .env)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: asu_tp_db

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)
- –õ–æ–≥–∏–Ω: admin
- –ü–∞—Ä–æ–ª—å: AdminPassword123!

### pgAdmin (—Ç–æ–ª—å–∫–æ Docker)
- URL: http://localhost:5050
- Email: admin@asu-tp.local
- –ü–∞—Ä–æ–ª—å: AdminPassword123!

### Grafana (—Ç–æ–ª—å–∫–æ Docker)
- URL: http://localhost:3000
- –õ–æ–≥–∏–Ω: admin
- –ü–∞—Ä–æ–ª—å: GrafanaPassword123!

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –î–ª—è Docker:
```bash
docker exec -it asu_tp_postgres psql -U postgres -d asu_tp_db -c "SELECT COUNT(*) FROM tech_params.parameters;"
```

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
psql -U postgres -d asu_tp_db -c "SELECT COUNT(*) FROM tech_params.parameters;"
```

---

## üõ† –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ö–µ–º—ã:

- ‚úÖ **core** - –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- ‚úÖ **tech_params** - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ **controllers** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –ö–£–ü–†–ò
- ‚úÖ **archive** - –ê—Ä—Ö–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ **algorithms** - –†–∞—Å—á–µ—Ç–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Ñ–æ—Ä–º—É–ª—ã
- ‚úÖ **visualization** - –í–∏–¥–µ–æ–∫–∞–¥—Ä—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **topology** - –£–∑–ª—ã –ü–¢–ö –∏ —Ç–æ–ø–æ–ª–æ–≥–∏—è —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **kross** - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ö–†–û–°–°
- ‚úÖ **security** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–æ–ª–∏, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ –∞—É–¥–∏—Ç
- ‚úÖ **events** - –°–æ–±—ã—Ç–∏—è, —Ç—Ä–µ–≤–æ–≥–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ **reports** - –®–∞–±–ª–æ–Ω—ã –∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç–æ–≤

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (Docker)
```bash
docker-compose --profile backup up backup
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–ª–æ–∫–∞–ª—å–Ω–æ)
```bash
pg_dump -U postgres -d asu_tp_db -Fc -f backup\asu_tp_db_backup.dump
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
pg_restore -U postgres -d asu_tp_db backup\asu_tp_db_backup.dump
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û!

1. **–ü–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –≤ production!
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –≤ 01_create_database.sql –µ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è 16GB RAM
3. **–õ–æ–∫–∞–ª—å** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ru_RU.UTF-8 –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
4. **–ü–æ—Ä—Ç—ã** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç—ã 5432, 5050, 3000 —Å–≤–æ–±–æ–¥–Ω—ã

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –õ–æ–≥–∏ Docker: `docker-compose logs postgres`
- –õ–æ–≥–∏ PostgreSQL: –≤ –ø–∞–ø–∫–µ `logs/postgres`
- –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤: `docker-compose ps`

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025
**–ü—Ä–æ–µ–∫—Ç**: –ê–û "–ù–ò–ö–ò–≠–¢" / –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ö–†–û–°–°
**–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã**: –ì–û–°–¢ –† –ò–°–û 9001-2015

