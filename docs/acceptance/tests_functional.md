# Функциональные испытания (тест‑кейсы)

Конфиденциально. Публикация без разрешения Заказчика запрещена (п.5.4 ТЗ).

## Тест F1: CRUD параметра
- Дано: роль engineer
- Шаги: создать параметр → задать уставки → изменить → удалить (откат)
- Ожидаемо: записи в tech_params.parameters, в audit_log

## Тест F2: Запись текущего значения
- Дано: параметр P
- Шаги: INSERT/UPDATE в tech_params.current_values
- Ожидаемо: качество/метки времени корректны, индекс timestamp работает

## Тест F3: Архивирование
- Шаги: INSERT в archive.historical_data для P за диапазон времени
- Ожидаемо: чтение по (parameter_id, timestamp) быстрое (индекс)

## Тест F4: Контроллер и канал
- Шаги: создать контроллер, модуль, канал; привязать к параметру
- Ожидаемо: внешние ключи соблюдены

## Тест F5: Алгоритм
- Шаги: создать algorithms.algorithms; вход/выход — параметры; записать execution_history
- Ожидаемо: завершение status=completed, ошибки логируются

## Тест F6: Видеокадр
- Шаги: создать screen + element с parameter_id
- Ожидаемо: связи валидны, GIN индексы jsonb работают

## Тест F7: Событие и квитирование
- Шаги: вставка в events.events, затем update is_acknowledged=true
- Ожидаемо: индексы active/unack работают

## Тест F8: Отчеты
- Шаги: создать шаблон, расписание, инициировать генерацию (history)
- Ожидаемо: статус completed, файл/метаданные фиксируются
