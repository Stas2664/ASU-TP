# Техническая спецификация базы данных ПТК АСУ ТП

## 1. ОБЩИЕ СВЕДЕНИЯ

### 1.1. Наименование системы
Схема единой базы данных для программно-технического комплекса автоматизированной системы управления технологическими процессами (ПТК АСУ ТП)

### 1.2. Основание для разработки
- Договор на выполнение работ
- Техническое задание от АО "НИКИЭТ"

### 1.3. Нормативные документы
- ГОСТ Р ИСО 9001-2015 "Системы менеджмента качества. Требования"
- ГОСТ 34.601-90 "Автоматизированные системы. Стадии создания"
- ГОСТ 34.602-89 "Техническое задание на создание автоматизированной системы"
- ГОСТ 34.003-90 "Автоматизированные системы. Термины и определения"
- ГОСТ 19.201-78 "ЕСПД. Техническое задание. Требования к содержанию и оформлению"

## 2. НАЗНАЧЕНИЕ И ЦЕЛИ СОЗДАНИЯ СИСТЕМЫ

### 2.1. Назначение системы
База данных предназначена для:
- Хранения и обработки технологических параметров
- Конфигурирования контроллеров КУПРИ
- Архивирования исторических данных
- Управления алгоритмами расчета
- Визуализации технологического процесса
- Обеспечения многопользовательского доступа

### 2.2. Цели создания
- Унификация структуры данных для платформы КРОСС
- Обеспечение целостности и непротиворечивости данных
- Реализация ролевой модели доступа
- Оптимизация производительности для работы в реальном времени

## 3. ХАРАКТЕРИСТИКА ОБЪЕКТА АВТОМАТИЗАЦИИ

### 3.1. Краткие сведения об объекте
Объектом автоматизации являются технологические процессы, контролируемые и управляемые посредством ПТК АСУ ТП на базе платформы КРОСС.

### 3.2. Основные параметры
- Количество технологических параметров: до 100 000
- Частота опроса: от 100 мс до 1 час
- Количество одновременных пользователей: до 200
- Объем архивных данных: до 10 ТБ
- Время хранения архивов: до 10 лет

## 4. ТРЕБОВАНИЯ К СИСТЕМЕ

### 4.1. Требования к структуре БД

#### 4.1.1. Основные компоненты
База данных включает следующие схемы:

| Схема | Назначение | Основные объекты |
|-------|------------|------------------|
| core | Системные таблицы | Единицы измерения, типы данных, статусы |
| tech_params | Технологические параметры | Параметры, текущие значения, диагностика |
| controllers | Контроллеры | Контроллеры КУПРИ, модули, каналы |
| archive | Архивные данные | Исторические данные, конфигурация архивирования |
| algorithms | Алгоритмы | Расчетные алгоритмы, история выполнения |
| visualization | Визуализация | Видеокадры, элементы, шаблоны |
| topology | Топология | Узлы ПТК, соединения |
| kross | Платформа КРОСС | Конфигурация, модули, лицензии |
| security | Безопасность | Пользователи, роли, права, аудит |
| events | События | События, тревоги, подписки |
| reports | Отчеты | Шаблоны, расписания, история |

#### 4.1.2. Связи между компонентами
- Параметры связаны с контроллерами через каналы ввода-вывода
- Архивные данные партиционированы по времени
- Алгоритмы используют параметры как входы и выходы
- Видеокадры отображают значения параметров
- События генерируются при изменении параметров

### 4.2. Требования к функциям системы

#### 4.2.1. Управление параметрами
- Создание, изменение, удаление параметров
- Группировка параметров по иерархии
- Установка аварийных уставок
- Конфигурирование архивирования

#### 4.2.2. Обработка данных в реальном времени
- Прием данных от контроллеров
- Проверка качества данных
- Фильтрация и сглаживание
- Проверка аварийных уставок

#### 4.2.3. Архивирование
- Периодическое архивирование
- Архивирование по изменению
- Сжатие старых данных
- Автоматическая ротация партиций

#### 4.2.4. Расчетные алгоритмы
- Выполнение алгоритмов по расписанию
- Поддержка SQL, Python, JavaScript
- Контроль времени выполнения
- Обработка ошибок

### 4.3. Требования к видам обеспечения

#### 4.3.1. Информационное обеспечение
- СУБД: PostgreSQL версии 15 и выше
- Кодировка: UTF-8
- Часовой пояс: UTC с локализацией

#### 4.3.2. Программное обеспечение
- ОС: Linux (рекомендуется), Windows Server
- Платформа: КРОСС
- Драйверы: PostgreSQL JDBC/ODBC

#### 4.3.3. Техническое обеспечение
Минимальные требования к серверу БД:
- CPU: 8 ядер, 2.4 GHz
- RAM: 32 GB
- HDD: 1 TB SSD для БД, 10 TB HDD для архивов
- Network: 1 Gbit/s

## 5. СОСТАВ И СОДЕРЖАНИЕ РАБОТ

### 5.1. Этапы разработки

| Этап | Содержание | Результат |
|------|------------|-----------|
| 1 | Анализ требований | Уточненное ТЗ |
| 2 | Проектирование структуры БД | ER-диаграмма, схема БД |
| 3 | Разработка SQL-скриптов | SQL-файлы создания БД |
| 4 | Разработка ролевой модели | Роли, права, политики |
| 5 | Разработка функций и триггеров | Хранимые процедуры |
| 6 | Тестирование | Протоколы тестирования |
| 7 | Документирование | Техническая документация |
| 8 | Внедрение | Развернутая БД |

### 5.2. Перечень документации

1. Техническая спецификация (настоящий документ)
2. Схема базы данных
3. Описание ролевой модели
4. Руководство администратора БД
5. Руководство разработчика
6. Протоколы тестирования

## 6. ПОРЯДОК КОНТРОЛЯ И ПРИЕМКИ

### 6.1. Виды испытаний

#### 6.1.1. Функциональное тестирование
- Проверка создания и модификации объектов БД
- Тестирование прав доступа
- Проверка триггеров и функций
- Тестирование архивирования

#### 6.1.2. Нагрузочное тестирование
- Одновременная работа 200 пользователей
- Запись 10000 параметров в секунду
- Чтение архивов объемом 1 млн записей

#### 6.1.3. Тестирование безопасности
- Проверка аутентификации
- Тестирование ролевой модели
- Аудит действий пользователей

### 6.2. Критерии приемки

1. Соответствие структуры БД техническому заданию
2. Успешное прохождение всех тестов
3. Производительность не ниже заявленной
4. Наличие полного комплекта документации

## 7. ТРЕБОВАНИЯ К СОСТАВУ И СОДЕРЖАНИЮ РАБОТ ПО ПОДГОТОВКЕ К ВВОДУ В ДЕЙСТВИЕ

### 7.1. Подготовка персонала
- Обучение администраторов БД
- Инструктаж операторов
- Передача документации

### 7.2. Подготовка технических средств
- Установка и настройка PostgreSQL
- Настройка репликации
- Настройка резервного копирования

### 7.3. Миграция данных
- Разработка скриптов миграции
- Тестовая миграция
- Производственная миграция

## 8. ТРЕБОВАНИЯ К ДОКУМЕНТИРОВАНИЮ

### 8.1. Перечень документов

| Документ | Стандарт | Срок |
|----------|----------|------|
| Техническая спецификация | ГОСТ 34.602-89 | 5 дней |
| Схема БД | ГОСТ 19.701-90 | 10 дней |
| Руководство администратора | ГОСТ 19.503-79 | 20 дней |
| Руководство разработчика | ГОСТ 19.504-79 | 25 дней |
| Протоколы испытаний | ГОСТ 19.301-79 | 30 дней |

### 8.2. Требования к оформлению
- Формат: А4
- Шрифт: Times New Roman, 14 пт
- Межстрочный интервал: 1,5
- Нумерация страниц: сквозная
- Электронная версия: PDF, Word

## 9. ИСТОЧНИКИ РАЗРАБОТКИ

1. Техническое задание АО "НИКИЭТ"
2. Документация платформы КРОСС
3. PostgreSQL 15 Documentation
4. Стандарты ГОСТ серии 34

## 10. ПРИЛОЖЕНИЯ

### Приложение А. Перечень сокращений

| Сокращение | Расшифровка |
|------------|-------------|
| АСУ ТП | Автоматизированная система управления технологическими процессами |
| БД | База данных |
| КРОСС | Комплекс распределенных средств сетевой обработки |
| КУПРИ | Контроллер управления промышленный интеллектуальный |
| ПО | Программное обеспечение |
| ПТК | Программно-технический комплекс |
| СУБД | Система управления базами данных |
| ТЗ | Техническое задание |

### Приложение Б. Термины и определения

**Параметр** - измеряемая или вычисляемая величина, характеризующая состояние технологического процесса.

**Тег** - уникальный идентификатор параметра в системе.

**Видеокадр** - графическое представление фрагмента технологической схемы с отображением текущих значений параметров.

**Архивирование** - процесс сохранения исторических значений параметров в базе данных.

**Квитирование** - подтверждение оператором получения и принятия к сведению аварийного сообщения.

---

**Документ разработан:** [Дата]  
**Версия:** 1.0.0  
**Статус:** Утвержден  
**Исполнитель:** [Организация]  
**Заказчик:** АО "НИКИЭТ"



