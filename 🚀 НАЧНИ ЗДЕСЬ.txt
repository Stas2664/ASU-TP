╔═══════════════════════════════════════════════════════════════════════╗
║                                                                       ║
║              🏭 БАЗА ДАННЫХ ПТК АСУ ТП - БЫСТРЫЙ СТАРТ               ║
║                          АО "НИКИЭТ" / КРОСС                          ║
║                                                                       ║
╚═══════════════════════════════════════════════════════════════════════╝


┌───────────────────────────────────────────────────────────────────────┐
│  📋 ЧТО У ТЕБЯ ЕСТЬ:                                                  │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  ✅ Полная структура БД для АСУ ТП                                    │
│     ├─ 11 схем (core, tech_params, controllers, и др.)                │
│     ├─ 50+ таблиц                                                     │
│     ├─ 200+ индексов                                                  │
│     ├─ Роли и права доступа (6 ролей)                                 │
│     ├─ Функции и триггеры                                             │
│     └─ Справочники и начальные данные                                 │
│                                                                       │
│  ✅ SQL скрипты для развертывания (sql/01-08)                         │
│                                                                       │
│  ✅ Скрипты для автоматического развертывания                          │
│     ├─ START_DOCKER.bat  - Через Docker (рекомендуется)               │
│     ├─ START_LOCAL.bat   - Локальная установка PostgreSQL             │
│     ├─ CHECK_STATUS.bat  - Проверка статуса БД                        │
│     └─ STOP_ALL.bat      - Остановка всех сервисов                    │
│                                                                       │
│  ✅ Документация                                                       │
│     ├─ QUICK_START.md         - Быстрый старт                         │
│     ├─ INSTALLATION.md        - Подробная установка                   │
│     ├─ DEPLOYMENT_DIAGRAM.md  - Схемы развертывания                   │
│     └─ docs/                  - Техническая документация              │
│                                                                       │
│  ✅ Docker конфигурация                                                │
│     ├─ docker-compose.yml - PostgreSQL + pgAdmin + Grafana            │
│     ├─ Dockerfile         - Кастомный образ PostgreSQL                │
│     └─ env.example        - Пример настроек                           │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  🚀 КАК РАЗВЕРНУТЬ БД (ВЫБЕРИ ВАРИАНТ):                               │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  🐳 ВАРИАНТ 1: Docker (РЕКОМЕНДУЕТСЯ)                                 │
│  ══════════════════════════════════════                               │
│                                                                       │
│  Что нужно:                                                           │
│  1. Docker Desktop для Windows                                        │
│     Скачать: https://www.docker.com/products/docker-desktop/          │
│                                                                       │
│  2. После установки Docker, просто запусти:                           │
│     📁 START_DOCKER.bat                                               │
│                                                                       │
│  Готово! 🎉                                                           │
│  База данных развернется автоматически со всеми сервисами             │
│                                                                       │
│  Что получишь:                                                        │
│  • PostgreSQL 15    → localhost:5432                                  │
│  • pgAdmin          → http://localhost:5050                           │
│  • Grafana          → http://localhost:3000                           │
│                                                                       │
│  ─────────────────────────────────────────────────────────────────    │
│                                                                       │
│  💻 ВАРИАНТ 2: Локальная установка PostgreSQL                         │
│  ══════════════════════════════════════════════════                   │
│                                                                       │
│  Что нужно:                                                           │
│  1. PostgreSQL 15 или выше                                            │
│     Скачать: https://www.postgresql.org/download/windows/             │
│                                                                       │
│  2. Добавь psql в PATH:                                               │
│     C:\Program Files\PostgreSQL\15\bin                                │
│                                                                       │
│  3. Запусти:                                                          │
│     📁 START_LOCAL.bat                                                │
│                                                                       │
│  4. Введи пароль пользователя postgres (заданный при установке)       │
│                                                                       │
│  Готово! 🎉                                                           │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  🔍 ПРОВЕРКА РАЗВЕРТЫВАНИЯ                                             │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  После развертывания запусти:                                         │
│  📁 CHECK_STATUS.bat                                                  │
│                                                                       │
│  Скрипт покажет:                                                      │
│  • Статус контейнеров (для Docker)                                    │
│  • Список таблиц по схемам                                            │
│  • Пользователей системы                                              │
│  • Роли приложения                                                    │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  🔐 УЧЕТНЫЕ ДАННЫЕ ПО УМОЛЧАНИЮ                                        │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  PostgreSQL:                                                          │
│  ├─ База данных:  asu_tp_db                                           │
│  ├─ Пользователь: postgres                                            │
│  ├─ Пароль:       postgres (или из .env)                              │
│  └─ Порт:         5432                                                │
│                                                                       │
│  Пользователь приложения (создается автоматически):                   │
│  ├─ Логин:        admin                                               │
│  └─ Пароль:       AdminPassword123!                                   │
│                                                                       │
│  pgAdmin (только Docker):                                             │
│  ├─ URL:          http://localhost:5050                               │
│  ├─ Email:        admin@asu-tp.local                                  │
│  └─ Пароль:       AdminPassword123!                                   │
│                                                                       │
│  Grafana (только Docker):                                             │
│  ├─ URL:          http://localhost:3000                               │
│  ├─ Логин:        admin                                               │
│  └─ Пароль:       GrafanaPassword123!                                 │
│                                                                       │
│  ⚠️  ВАЖНО: Обязательно смени все пароли в production!                │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  📚 ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ                                          │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  📄 QUICK_START.md          - Быстрый старт (краткая версия)          │
│  📄 INSTALLATION.md         - Подробная инструкция по установке       │
│  📄 DEPLOYMENT_DIAGRAM.md   - Визуальные схемы развертывания          │
│  📄 README.md               - Описание проекта                        │
│                                                                       │
│  📁 docs/                   - Полная техническая документация         │
│     ├─ technical_specification.md                                     │
│     ├─ database_model.md                                              │
│     └─ admin_guide.md                                                 │
│                                                                       │
│  📁 sql/                    - SQL скрипты (выполняются по порядку)    │
│     ├─ 01_create_database.sql                                         │
│     ├─ 02_create_schemas.sql                                          │
│     ├─ 03_create_tables.sql                                           │
│     ├─ 04_create_indexes.sql                                          │
│     ├─ 05_create_roles.sql                                            │
│     ├─ 06_create_functions.sql                                        │
│     ├─ 07_create_triggers.sql                                         │
│     └─ 08_initial_data.sql                                            │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  🛠️  УПРАВЛЕНИЕ                                                        │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  Запуск:         START_DOCKER.bat  или  START_LOCAL.bat              │
│  Проверка:       CHECK_STATUS.bat                                     │
│  Остановка:      STOP_ALL.bat                                         │
│                                                                       │
│  Резервное копирование (Docker):                                      │
│  docker-compose --profile backup up backup                            │
│                                                                       │
│  Резервное копирование (локально):                                    │
│  cd scripts                                                           │
│  backup.bat                                                           │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  ⚡ ЧТО ДАЛЬШЕ?                                                        │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  После успешного развертывания:                                       │
│                                                                       │
│  1. 🔒 Смени пароли по умолчанию                                      │
│  2. 👥 Создай пользователей системы                                   │
│  3. 📊 Настрой мониторинг в Grafana                                   │
│  4. 🔄 Настрой автоматическое резервное копирование                   │
│  5. 🔌 Интегрируй с платформой КРОСС                                  │
│  6. 📝 Импортируй параметры технологического процесса                 │
│  7. 🎨 Создай мнемосхемы в visualization                              │
│  8. 🚀 Начинай эксплуатацию!                                          │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────┐
│  🆘 НУЖНА ПОМОЩЬ?                                                      │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  1. Проверь INSTALLATION.md - там подробные инструкции                │
│  2. Запусти CHECK_STATUS.bat для диагностики                          │
│  3. Посмотри логи:                                                    │
│     • Docker: docker-compose logs postgres                            │
│     • Локально: logs/postgres/                                        │
│                                                                       │
│  Частые проблемы:                                                     │
│  • Docker не запускается → Установи Docker Desktop                    │
│  • psql не найден → Добавь PostgreSQL в PATH                          │
│  • Порт занят → Измени порт в .env файле                              │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════════╗
║                                                                       ║
║  🎯 НАЧНИ С ЭТОГО:                                                    ║
║                                                                       ║
║  1. Выбери вариант развертывания (Docker или локально)                ║
║  2. Запусти соответствующий .bat файл                                 ║
║  3. Дождись завершения (5-10 минут)                                   ║
║  4. Проверь статус через CHECK_STATUS.bat                             ║
║  5. Готово! База данных готова к работе! 🎉                           ║
║                                                                       ║
║  Подробные инструкции: INSTALLATION.md                                ║
║                                                                       ║
╚═══════════════════════════════════════════════════════════════════════╝


═══════════════════════════════════════════════════════════════════════════
  Разработано для: АО "НИКИЭТ"
  Платформа: КРОСС
  Стандарты: ГОСТ Р ИСО 9001-2015
  Дата: 2025
═══════════════════════════════════════════════════════════════════════════

